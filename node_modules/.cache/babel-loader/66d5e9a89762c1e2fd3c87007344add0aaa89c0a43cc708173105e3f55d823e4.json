{"ast":null,"code":"var _jsxFileName = \"C:\\\\uiux development\\\\frontend\\\\confessapp\\\\src\\\\pages\\\\confession\\\\EditConfession.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { updateConfession } from '../../apis/Api';\nimport './EditConfession.css'; // Ensure the path is correct\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditConfession = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const confession = location.state.confession;\n  const [editContent, setEditContent] = useState({\n    content: confession.content,\n    title: confession.title,\n    category: confession.category,\n    imageUrl: confession.imageUrl\n  });\n  const handleEditChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditContent(prevContent => ({\n      ...prevContent,\n      [name]: value\n    }));\n  };\n  const handleImageChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setEditContent(prevContent => ({\n        ...prevContent,\n        imageUrl: URL.createObjectURL(file)\n      }));\n    }\n  };\n  const handleEditSubmit = async confessionId => {\n    try {\n      await updateConfession(confessionId, editContent);\n      navigate('/confessions');\n    } catch (error) {\n      console.error('Failed to update confession:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edit-confession-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Confession\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        handleEditSubmit(confession._id);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        value: editContent.title,\n        onChange: handleEditChange,\n        className: \"edit-input\",\n        placeholder: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"content\",\n        value: editContent.content,\n        onChange: handleEditChange,\n        className: \"edit-textarea\",\n        placeholder: \"Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"category\",\n        value: editContent.category,\n        onChange: handleEditChange,\n        className: \"edit-input\",\n        placeholder: \"Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"image\",\n        onChange: handleImageChange,\n        className: \"edit-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), editContent.imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: editContent.imageUrl,\n        alt: \"Confession\",\n        className: \"confession-image-preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"save-button\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"cancel-button\",\n        onClick: () => navigate('/confessions'),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(EditConfession, \"6qSWt6eRXlfn3ybPBbbKMqtQtTQ=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = EditConfession;\nexport default EditConfession;\nvar _c;\n$RefreshReg$(_c, \"EditConfession\");","map":{"version":3,"names":["React","useState","useLocation","useNavigate","updateConfession","jsxDEV","_jsxDEV","EditConfession","_s","location","navigate","confession","state","editContent","setEditContent","content","title","category","imageUrl","handleEditChange","e","name","value","target","prevContent","handleImageChange","file","files","URL","createObjectURL","handleEditSubmit","confessionId","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","preventDefault","_id","type","onChange","placeholder","src","alt","onClick","_c","$RefreshReg$"],"sources":["C:/uiux development/frontend/confessapp/src/pages/confession/EditConfession.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { updateConfession } from '../../apis/Api';\r\nimport './EditConfession.css'; // Ensure the path is correct\r\n\r\nconst EditConfession = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const confession = location.state.confession;\r\n\r\n  const [editContent, setEditContent] = useState({\r\n    content: confession.content,\r\n    title: confession.title,\r\n    category: confession.category,\r\n    imageUrl: confession.imageUrl,\r\n  });\r\n\r\n  const handleEditChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setEditContent((prevContent) => ({\r\n      ...prevContent,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setEditContent((prevContent) => ({\r\n        ...prevContent,\r\n        imageUrl: URL.createObjectURL(file),\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleEditSubmit = async (confessionId) => {\r\n    try {\r\n      await updateConfession(confessionId, editContent);\r\n      navigate('/confessions');\r\n    } catch (error) {\r\n      console.error('Failed to update confession:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit-confession-container\">\r\n      <h2>Edit Confession</h2>\r\n      <form\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          handleEditSubmit(confession._id);\r\n        }}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={editContent.title}\r\n          onChange={handleEditChange}\r\n          className=\"edit-input\"\r\n          placeholder=\"Title\"\r\n        />\r\n        <textarea\r\n          name=\"content\"\r\n          value={editContent.content}\r\n          onChange={handleEditChange}\r\n          className=\"edit-textarea\"\r\n          placeholder=\"Content\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"category\"\r\n          value={editContent.category}\r\n          onChange={handleEditChange}\r\n          className=\"edit-input\"\r\n          placeholder=\"Category\"\r\n        />\r\n        <input\r\n          type=\"file\"\r\n          name=\"image\"\r\n          onChange={handleImageChange}\r\n          className=\"edit-input\"\r\n        />\r\n        {editContent.imageUrl && (\r\n          <img\r\n            src={editContent.imageUrl}\r\n            alt=\"Confession\"\r\n            className=\"confession-image-preview\"\r\n          />\r\n        )}\r\n        <button type=\"submit\" className=\"save-button\">\r\n          Save\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"cancel-button\"\r\n          onClick={() => navigate('/confessions')}\r\n        >\r\n          Cancel\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditConfession;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}