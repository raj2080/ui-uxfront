{"ast":null,"code":"// src/api.js\nimport axios from 'axios';\n\n// Constants\nconst API_BASE_URL = 'http://localhost:5000/api';\nconst STORAGE_KEYS = {\n  TOKEN: 'token',\n  USER_ID: 'userId',\n  USER: 'user'\n};\n\n// Creating backend configuration\nconst Api = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Helper Functions\nconst clearStorage = () => {\n  Object.values(STORAGE_KEYS).forEach(key => localStorage.removeItem(key));\n};\nconst updateStoredUserData = userData => {\n  if (!userData) return;\n  const userToStore = {\n    _id: userData._id || userData.id,\n    nickname: userData.nickname,\n    email: userData.email,\n    updatedAt: userData.updatedAt\n  };\n  localStorage.setItem(STORAGE_KEYS.USER, JSON.stringify(userToStore));\n};\n\n// Request Interceptor\nApi.interceptors.request.use(config => {\n  const token = localStorage.getItem(STORAGE_KEYS.TOKEN);\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n// Response Interceptor\nApi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    clearStorage();\n    window.location.href = '/login';\n  }\n  return Promise.reject(handleApiError(error));\n});\n\n// Auth API Functions\nexport const signupApi = async data => {\n  try {\n    const response = await Api.post('users/signup', data);\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\nexport const loginApi = async data => {\n  try {\n    var _response$data;\n    const response = await Api.post('users/login', data);\n    if ((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.data) {\n      const {\n        user,\n        token\n      } = response.data.data;\n      localStorage.setItem(STORAGE_KEYS.TOKEN, token);\n      localStorage.setItem(STORAGE_KEYS.USER_ID, user._id || user.id);\n      updateStoredUserData(user);\n    } else {\n      throw new Error('Invalid response format from server');\n    }\n    return response.data;\n  } catch (error) {\n    clearStorage();\n    throw handleApiError(error);\n  }\n};\n\n// Profile API Functions\nexport const getUserProfile = async () => {\n  try {\n    var _response$data2;\n    const userId = localStorage.getItem(STORAGE_KEYS.USER_ID);\n    if (!userId) throw new Error('User ID not found. Please login again.');\n    const response = await Api.get(`users/profile/${userId}`);\n    if ((_response$data2 = response.data) !== null && _response$data2 !== void 0 && _response$data2.data) {\n      updateStoredUserData(response.data.data);\n    }\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\nexport const updateUserProfile = async userData => {\n  try {\n    var _response$data3;\n    const response = await Api.put('users/profile/update', userData);\n    if ((_response$data3 = response.data) !== null && _response$data3 !== void 0 && _response$data3.success) {\n      updateStoredUserData(response.data.user);\n    }\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\nexport const changePassword = async passwordData => {\n  try {\n    const response = await Api.put('users/change-password', passwordData);\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\n\n// Confession API Functions\nexport const createConfession = async confessionData => {\n  try {\n    const formData = new FormData();\n\n    // Append text data\n    Object.keys(confessionData).forEach(key => {\n      if (key !== 'image') {\n        formData.append(key, confessionData[key]);\n      }\n    });\n\n    // Append image if exists\n    if (confessionData.image) {\n      formData.append('image', confessionData.image);\n    }\n    const response = await Api.post('users/confessions/create', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\nexport const getAllConfessions = async (page = 1, limit = 10) => {\n  try {\n    const response = await Api.get(`users/confessions/all?page=${page}&limit=${limit}`);\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\nexport const getUserConfessions = async () => {\n  try {\n    const response = await Api.get('users/confessions/my');\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\nexport const updateConfession = async (id, confessionData) => {\n  try {\n    const formData = new FormData();\n    Object.keys(confessionData).forEach(key => {\n      if (key !== 'image') {\n        formData.append(key, confessionData[key]);\n      }\n    });\n    if (confessionData.image) {\n      formData.append('image', confessionData.image);\n    }\n    const response = await Api.put(`users/confessions/${id}`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\nexport const deleteConfession = async id => {\n  try {\n    const response = await Api.delete(`users/confessions/${id}`);\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\n\n// Utility Functions\nexport const isLoggedIn = () => {\n  const token = localStorage.getItem(STORAGE_KEYS.TOKEN);\n  const userId = localStorage.getItem(STORAGE_KEYS.USER_ID);\n  return Boolean(token && userId);\n};\nexport const getStoredUserData = () => {\n  try {\n    const userData = localStorage.getItem(STORAGE_KEYS.USER);\n    return userData ? JSON.parse(userData) : null;\n  } catch (error) {\n    console.error('Error parsing stored user data:', error);\n    return null;\n  }\n};\nexport const logout = () => {\n  clearStorage();\n  window.location.href = '/login';\n};\n\n// Error Handler\nconst handleApiError = error => {\n  var _error$response2, _error$response2$data, _error$response3, _error$config, _error$config2, _error$response4, _error$response4$data, _error$response5, _error$response6;\n  console.error('API Error:', {\n    message: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message,\n    status: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status,\n    endpoint: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n    method: (_error$config2 = error.config) === null || _error$config2 === void 0 ? void 0 : _error$config2.method\n  });\n  return {\n    message: ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || error.message || 'An error occurred',\n    status: (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.status,\n    data: (_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data,\n    originalError: error\n  };\n};\n\n// Custom Hooks\nexport const useAuth = () => {\n  return {\n    isLoggedIn: isLoggedIn(),\n    userData: getStoredUserData(),\n    logout\n  };\n};\nexport default Api;","map":{"version":3,"names":["axios","API_BASE_URL","STORAGE_KEYS","TOKEN","USER_ID","USER","Api","create","baseURL","withCredentials","headers","clearStorage","Object","values","forEach","key","localStorage","removeItem","updateStoredUserData","userData","userToStore","_id","id","nickname","email","updatedAt","setItem","JSON","stringify","interceptors","request","use","config","token","getItem","Authorization","error","Promise","reject","response","_error$response","status","window","location","href","handleApiError","signupApi","data","post","loginApi","_response$data","user","Error","getUserProfile","_response$data2","userId","get","updateUserProfile","_response$data3","put","success","changePassword","passwordData","createConfession","confessionData","formData","FormData","keys","append","image","getAllConfessions","page","limit","getUserConfessions","updateConfession","deleteConfession","delete","isLoggedIn","Boolean","getStoredUserData","parse","console","logout","_error$response2","_error$response2$data","_error$response3","_error$config","_error$config2","_error$response4","_error$response4$data","_error$response5","_error$response6","message","endpoint","url","method","originalError","useAuth"],"sources":["C:/uiux development/frontend/confessapp/src/apis/Api.js"],"sourcesContent":["// src/api.js\r\nimport axios from 'axios';\r\n\r\n// Constants\r\nconst API_BASE_URL = 'http://localhost:5000/api';\r\nconst STORAGE_KEYS = {\r\n    TOKEN: 'token',\r\n    USER_ID: 'userId',\r\n    USER: 'user'\r\n};\r\n\r\n// Creating backend configuration\r\nconst Api = axios.create({\r\n    baseURL: API_BASE_URL,\r\n    withCredentials: true,\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\n// Helper Functions\r\nconst clearStorage = () => {\r\n    Object.values(STORAGE_KEYS).forEach(key => localStorage.removeItem(key));\r\n};\r\n\r\nconst updateStoredUserData = (userData) => {\r\n    if (!userData) return;\r\n    \r\n    const userToStore = {\r\n        _id: userData._id || userData.id,\r\n        nickname: userData.nickname,\r\n        email: userData.email,\r\n        updatedAt: userData.updatedAt\r\n    };\r\n    \r\n    localStorage.setItem(STORAGE_KEYS.USER, JSON.stringify(userToStore));\r\n};\r\n\r\n// Request Interceptor\r\nApi.interceptors.request.use(\r\n    (config) => {\r\n        const token = localStorage.getItem(STORAGE_KEYS.TOKEN);\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\n// Response Interceptor\r\nApi.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n        if (error.response?.status === 401) {\r\n            clearStorage();\r\n            window.location.href = '/login';\r\n        }\r\n        return Promise.reject(handleApiError(error));\r\n    }\r\n);\r\n\r\n// Auth API Functions\r\nexport const signupApi = async (data) => {\r\n    try {\r\n        const response = await Api.post('users/signup', data);\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\nexport const loginApi = async (data) => {\r\n    try {\r\n        const response = await Api.post('users/login', data);\r\n        \r\n        if (response.data?.data) {\r\n            const { user, token } = response.data.data;\r\n            \r\n            localStorage.setItem(STORAGE_KEYS.TOKEN, token);\r\n            localStorage.setItem(STORAGE_KEYS.USER_ID, user._id || user.id);\r\n            updateStoredUserData(user);\r\n        } else {\r\n            throw new Error('Invalid response format from server');\r\n        }\r\n\r\n        return response.data;\r\n    } catch (error) {\r\n        clearStorage();\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\n// Profile API Functions\r\nexport const getUserProfile = async () => {\r\n    try {\r\n        const userId = localStorage.getItem(STORAGE_KEYS.USER_ID);\r\n        if (!userId) throw new Error('User ID not found. Please login again.');\r\n\r\n        const response = await Api.get(`users/profile/${userId}`);\r\n        if (response.data?.data) {\r\n            updateStoredUserData(response.data.data);\r\n        }\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\nexport const updateUserProfile = async (userData) => {\r\n    try {\r\n        const response = await Api.put('users/profile/update', userData);\r\n        if (response.data?.success) {\r\n            updateStoredUserData(response.data.user);\r\n        }\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\nexport const changePassword = async (passwordData) => {\r\n    try {\r\n        const response = await Api.put('users/change-password', passwordData);\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\n// Confession API Functions\r\nexport const createConfession = async (confessionData) => {\r\n    try {\r\n        const formData = new FormData();\r\n        \r\n        // Append text data\r\n        Object.keys(confessionData).forEach(key => {\r\n            if (key !== 'image') {\r\n                formData.append(key, confessionData[key]);\r\n            }\r\n        });\r\n        \r\n        // Append image if exists\r\n        if (confessionData.image) {\r\n            formData.append('image', confessionData.image);\r\n        }\r\n\r\n        const response = await Api.post('users/confessions/create', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n        \r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\nexport const getAllConfessions = async (page = 1, limit = 10) => {\r\n    try {\r\n        const response = await Api.get(`users/confessions/all?page=${page}&limit=${limit}`);\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\nexport const getUserConfessions = async () => {\r\n    try {\r\n        const response = await Api.get('users/confessions/my');\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\nexport const updateConfession = async (id, confessionData) => {\r\n    try {\r\n        const formData = new FormData();\r\n        \r\n        Object.keys(confessionData).forEach(key => {\r\n            if (key !== 'image') {\r\n                formData.append(key, confessionData[key]);\r\n            }\r\n        });\r\n        \r\n        if (confessionData.image) {\r\n            formData.append('image', confessionData.image);\r\n        }\r\n\r\n        const response = await Api.put(`users/confessions/${id}`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n        \r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\nexport const deleteConfession = async (id) => {\r\n    try {\r\n        const response = await Api.delete(`users/confessions/${id}`);\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\n// Utility Functions\r\nexport const isLoggedIn = () => {\r\n    const token = localStorage.getItem(STORAGE_KEYS.TOKEN);\r\n    const userId = localStorage.getItem(STORAGE_KEYS.USER_ID);\r\n    return Boolean(token && userId);\r\n};\r\n\r\nexport const getStoredUserData = () => {\r\n    try {\r\n        const userData = localStorage.getItem(STORAGE_KEYS.USER);\r\n        return userData ? JSON.parse(userData) : null;\r\n    } catch (error) {\r\n        console.error('Error parsing stored user data:', error);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const logout = () => {\r\n    clearStorage();\r\n    window.location.href = '/login';\r\n};\r\n\r\n// Error Handler\r\nconst handleApiError = (error) => {\r\n    console.error('API Error:', {\r\n        message: error.response?.data?.message || error.message,\r\n        status: error.response?.status,\r\n        endpoint: error.config?.url,\r\n        method: error.config?.method\r\n    });\r\n    \r\n    return {\r\n        message: error.response?.data?.message || error.message || 'An error occurred',\r\n        status: error.response?.status,\r\n        data: error.response?.data,\r\n        originalError: error\r\n    };\r\n};\r\n\r\n// Custom Hooks\r\nexport const useAuth = () => {\r\n    return {\r\n        isLoggedIn: isLoggedIn(),\r\n        userData: getStoredUserData(),\r\n        logout,\r\n    };\r\n};\r\n\r\nexport default Api;"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,YAAY,GAAG,2BAA2B;AAChD,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAE,OAAO;EACdC,OAAO,EAAE,QAAQ;EACjBC,IAAI,EAAE;AACV,CAAC;;AAED;AACA,MAAMC,GAAG,GAAGN,KAAK,CAACO,MAAM,CAAC;EACrBC,OAAO,EAAEP,YAAY;EACrBQ,eAAe,EAAE,IAAI;EACrBC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;;AAEF;AACA,MAAMC,YAAY,GAAGA,CAAA,KAAM;EACvBC,MAAM,CAACC,MAAM,CAACX,YAAY,CAAC,CAACY,OAAO,CAACC,GAAG,IAAIC,YAAY,CAACC,UAAU,CAACF,GAAG,CAAC,CAAC;AAC5E,CAAC;AAED,MAAMG,oBAAoB,GAAIC,QAAQ,IAAK;EACvC,IAAI,CAACA,QAAQ,EAAE;EAEf,MAAMC,WAAW,GAAG;IAChBC,GAAG,EAAEF,QAAQ,CAACE,GAAG,IAAIF,QAAQ,CAACG,EAAE;IAChCC,QAAQ,EAAEJ,QAAQ,CAACI,QAAQ;IAC3BC,KAAK,EAAEL,QAAQ,CAACK,KAAK;IACrBC,SAAS,EAAEN,QAAQ,CAACM;EACxB,CAAC;EAEDT,YAAY,CAACU,OAAO,CAACxB,YAAY,CAACG,IAAI,EAAEsB,IAAI,CAACC,SAAS,CAACR,WAAW,CAAC,CAAC;AACxE,CAAC;;AAED;AACAd,GAAG,CAACuB,YAAY,CAACC,OAAO,CAACC,GAAG,CACvBC,MAAM,IAAK;EACR,MAAMC,KAAK,GAAGjB,YAAY,CAACkB,OAAO,CAAChC,YAAY,CAACC,KAAK,CAAC;EACtD,IAAI8B,KAAK,EAAE;IACPD,MAAM,CAACtB,OAAO,CAACyB,aAAa,GAAG,UAAUF,KAAK,EAAE;EACpD;EACA,OAAOD,MAAM;AACjB,CAAC,EACAI,KAAK,IAAKC,OAAO,CAACC,MAAM,CAACF,KAAK,CACnC,CAAC;;AAED;AACA9B,GAAG,CAACuB,YAAY,CAACU,QAAQ,CAACR,GAAG,CACxBQ,QAAQ,IAAKA,QAAQ,EACrBH,KAAK,IAAK;EAAA,IAAAI,eAAA;EACP,IAAI,EAAAA,eAAA,GAAAJ,KAAK,CAACG,QAAQ,cAAAC,eAAA,uBAAdA,eAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;IAChC9B,YAAY,CAAC,CAAC;IACd+B,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;EACnC;EACA,OAAOP,OAAO,CAACC,MAAM,CAACO,cAAc,CAACT,KAAK,CAAC,CAAC;AAChD,CACJ,CAAC;;AAED;AACA,OAAO,MAAMU,SAAS,GAAG,MAAOC,IAAI,IAAK;EACrC,IAAI;IACA,MAAMR,QAAQ,GAAG,MAAMjC,GAAG,CAAC0C,IAAI,CAAC,cAAc,EAAED,IAAI,CAAC;IACrD,OAAOR,QAAQ,CAACQ,IAAI;EACxB,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,MAAMS,cAAc,CAACT,KAAK,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAMa,QAAQ,GAAG,MAAOF,IAAI,IAAK;EACpC,IAAI;IAAA,IAAAG,cAAA;IACA,MAAMX,QAAQ,GAAG,MAAMjC,GAAG,CAAC0C,IAAI,CAAC,aAAa,EAAED,IAAI,CAAC;IAEpD,KAAAG,cAAA,GAAIX,QAAQ,CAACQ,IAAI,cAAAG,cAAA,eAAbA,cAAA,CAAeH,IAAI,EAAE;MACrB,MAAM;QAAEI,IAAI;QAAElB;MAAM,CAAC,GAAGM,QAAQ,CAACQ,IAAI,CAACA,IAAI;MAE1C/B,YAAY,CAACU,OAAO,CAACxB,YAAY,CAACC,KAAK,EAAE8B,KAAK,CAAC;MAC/CjB,YAAY,CAACU,OAAO,CAACxB,YAAY,CAACE,OAAO,EAAE+C,IAAI,CAAC9B,GAAG,IAAI8B,IAAI,CAAC7B,EAAE,CAAC;MAC/DJ,oBAAoB,CAACiC,IAAI,CAAC;IAC9B,CAAC,MAAM;MACH,MAAM,IAAIC,KAAK,CAAC,qCAAqC,CAAC;IAC1D;IAEA,OAAOb,QAAQ,CAACQ,IAAI;EACxB,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZzB,YAAY,CAAC,CAAC;IACd,MAAMkC,cAAc,CAACT,KAAK,CAAC;EAC/B;AACJ,CAAC;;AAED;AACA,OAAO,MAAMiB,cAAc,GAAG,MAAAA,CAAA,KAAY;EACtC,IAAI;IAAA,IAAAC,eAAA;IACA,MAAMC,MAAM,GAAGvC,YAAY,CAACkB,OAAO,CAAChC,YAAY,CAACE,OAAO,CAAC;IACzD,IAAI,CAACmD,MAAM,EAAE,MAAM,IAAIH,KAAK,CAAC,wCAAwC,CAAC;IAEtE,MAAMb,QAAQ,GAAG,MAAMjC,GAAG,CAACkD,GAAG,CAAC,iBAAiBD,MAAM,EAAE,CAAC;IACzD,KAAAD,eAAA,GAAIf,QAAQ,CAACQ,IAAI,cAAAO,eAAA,eAAbA,eAAA,CAAeP,IAAI,EAAE;MACrB7B,oBAAoB,CAACqB,QAAQ,CAACQ,IAAI,CAACA,IAAI,CAAC;IAC5C;IACA,OAAOR,QAAQ,CAACQ,IAAI;EACxB,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,MAAMS,cAAc,CAACT,KAAK,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAMqB,iBAAiB,GAAG,MAAOtC,QAAQ,IAAK;EACjD,IAAI;IAAA,IAAAuC,eAAA;IACA,MAAMnB,QAAQ,GAAG,MAAMjC,GAAG,CAACqD,GAAG,CAAC,sBAAsB,EAAExC,QAAQ,CAAC;IAChE,KAAAuC,eAAA,GAAInB,QAAQ,CAACQ,IAAI,cAAAW,eAAA,eAAbA,eAAA,CAAeE,OAAO,EAAE;MACxB1C,oBAAoB,CAACqB,QAAQ,CAACQ,IAAI,CAACI,IAAI,CAAC;IAC5C;IACA,OAAOZ,QAAQ,CAACQ,IAAI;EACxB,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,MAAMS,cAAc,CAACT,KAAK,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAMyB,cAAc,GAAG,MAAOC,YAAY,IAAK;EAClD,IAAI;IACA,MAAMvB,QAAQ,GAAG,MAAMjC,GAAG,CAACqD,GAAG,CAAC,uBAAuB,EAAEG,YAAY,CAAC;IACrE,OAAOvB,QAAQ,CAACQ,IAAI;EACxB,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,MAAMS,cAAc,CAACT,KAAK,CAAC;EAC/B;AACJ,CAAC;;AAED;AACA,OAAO,MAAM2B,gBAAgB,GAAG,MAAOC,cAAc,IAAK;EACtD,IAAI;IACA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;;IAE/B;IACAtD,MAAM,CAACuD,IAAI,CAACH,cAAc,CAAC,CAAClD,OAAO,CAACC,GAAG,IAAI;MACvC,IAAIA,GAAG,KAAK,OAAO,EAAE;QACjBkD,QAAQ,CAACG,MAAM,CAACrD,GAAG,EAAEiD,cAAc,CAACjD,GAAG,CAAC,CAAC;MAC7C;IACJ,CAAC,CAAC;;IAEF;IACA,IAAIiD,cAAc,CAACK,KAAK,EAAE;MACtBJ,QAAQ,CAACG,MAAM,CAAC,OAAO,EAAEJ,cAAc,CAACK,KAAK,CAAC;IAClD;IAEA,MAAM9B,QAAQ,GAAG,MAAMjC,GAAG,CAAC0C,IAAI,CAAC,0BAA0B,EAAEiB,QAAQ,EAAE;MAClEvD,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IAEF,OAAO6B,QAAQ,CAACQ,IAAI;EACxB,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,MAAMS,cAAc,CAACT,KAAK,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAMkC,iBAAiB,GAAG,MAAAA,CAAOC,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,EAAE,KAAK;EAC7D,IAAI;IACA,MAAMjC,QAAQ,GAAG,MAAMjC,GAAG,CAACkD,GAAG,CAAC,8BAA8Be,IAAI,UAAUC,KAAK,EAAE,CAAC;IACnF,OAAOjC,QAAQ,CAACQ,IAAI;EACxB,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,MAAMS,cAAc,CAACT,KAAK,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAMqC,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EAC1C,IAAI;IACA,MAAMlC,QAAQ,GAAG,MAAMjC,GAAG,CAACkD,GAAG,CAAC,sBAAsB,CAAC;IACtD,OAAOjB,QAAQ,CAACQ,IAAI;EACxB,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,MAAMS,cAAc,CAACT,KAAK,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAMsC,gBAAgB,GAAG,MAAAA,CAAOpD,EAAE,EAAE0C,cAAc,KAAK;EAC1D,IAAI;IACA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAE/BtD,MAAM,CAACuD,IAAI,CAACH,cAAc,CAAC,CAAClD,OAAO,CAACC,GAAG,IAAI;MACvC,IAAIA,GAAG,KAAK,OAAO,EAAE;QACjBkD,QAAQ,CAACG,MAAM,CAACrD,GAAG,EAAEiD,cAAc,CAACjD,GAAG,CAAC,CAAC;MAC7C;IACJ,CAAC,CAAC;IAEF,IAAIiD,cAAc,CAACK,KAAK,EAAE;MACtBJ,QAAQ,CAACG,MAAM,CAAC,OAAO,EAAEJ,cAAc,CAACK,KAAK,CAAC;IAClD;IAEA,MAAM9B,QAAQ,GAAG,MAAMjC,GAAG,CAACqD,GAAG,CAAC,qBAAqBrC,EAAE,EAAE,EAAE2C,QAAQ,EAAE;MAChEvD,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IAEF,OAAO6B,QAAQ,CAACQ,IAAI;EACxB,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,MAAMS,cAAc,CAACT,KAAK,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAMuC,gBAAgB,GAAG,MAAOrD,EAAE,IAAK;EAC1C,IAAI;IACA,MAAMiB,QAAQ,GAAG,MAAMjC,GAAG,CAACsE,MAAM,CAAC,qBAAqBtD,EAAE,EAAE,CAAC;IAC5D,OAAOiB,QAAQ,CAACQ,IAAI;EACxB,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,MAAMS,cAAc,CAACT,KAAK,CAAC;EAC/B;AACJ,CAAC;;AAED;AACA,OAAO,MAAMyC,UAAU,GAAGA,CAAA,KAAM;EAC5B,MAAM5C,KAAK,GAAGjB,YAAY,CAACkB,OAAO,CAAChC,YAAY,CAACC,KAAK,CAAC;EACtD,MAAMoD,MAAM,GAAGvC,YAAY,CAACkB,OAAO,CAAChC,YAAY,CAACE,OAAO,CAAC;EACzD,OAAO0E,OAAO,CAAC7C,KAAK,IAAIsB,MAAM,CAAC;AACnC,CAAC;AAED,OAAO,MAAMwB,iBAAiB,GAAGA,CAAA,KAAM;EACnC,IAAI;IACA,MAAM5D,QAAQ,GAAGH,YAAY,CAACkB,OAAO,CAAChC,YAAY,CAACG,IAAI,CAAC;IACxD,OAAOc,QAAQ,GAAGQ,IAAI,CAACqD,KAAK,CAAC7D,QAAQ,CAAC,GAAG,IAAI;EACjD,CAAC,CAAC,OAAOiB,KAAK,EAAE;IACZ6C,OAAO,CAAC7C,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,OAAO,IAAI;EACf;AACJ,CAAC;AAED,OAAO,MAAM8C,MAAM,GAAGA,CAAA,KAAM;EACxBvE,YAAY,CAAC,CAAC;EACd+B,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;AACnC,CAAC;;AAED;AACA,MAAMC,cAAc,GAAIT,KAAK,IAAK;EAAA,IAAA+C,gBAAA,EAAAC,qBAAA,EAAAC,gBAAA,EAAAC,aAAA,EAAAC,cAAA,EAAAC,gBAAA,EAAAC,qBAAA,EAAAC,gBAAA,EAAAC,gBAAA;EAC9BV,OAAO,CAAC7C,KAAK,CAAC,YAAY,EAAE;IACxBwD,OAAO,EAAE,EAAAT,gBAAA,GAAA/C,KAAK,CAACG,QAAQ,cAAA4C,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBpC,IAAI,cAAAqC,qBAAA,uBAApBA,qBAAA,CAAsBQ,OAAO,KAAIxD,KAAK,CAACwD,OAAO;IACvDnD,MAAM,GAAA4C,gBAAA,GAAEjD,KAAK,CAACG,QAAQ,cAAA8C,gBAAA,uBAAdA,gBAAA,CAAgB5C,MAAM;IAC9BoD,QAAQ,GAAAP,aAAA,GAAElD,KAAK,CAACJ,MAAM,cAAAsD,aAAA,uBAAZA,aAAA,CAAcQ,GAAG;IAC3BC,MAAM,GAAAR,cAAA,GAAEnD,KAAK,CAACJ,MAAM,cAAAuD,cAAA,uBAAZA,cAAA,CAAcQ;EAC1B,CAAC,CAAC;EAEF,OAAO;IACHH,OAAO,EAAE,EAAAJ,gBAAA,GAAApD,KAAK,CAACG,QAAQ,cAAAiD,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBzC,IAAI,cAAA0C,qBAAA,uBAApBA,qBAAA,CAAsBG,OAAO,KAAIxD,KAAK,CAACwD,OAAO,IAAI,mBAAmB;IAC9EnD,MAAM,GAAAiD,gBAAA,GAAEtD,KAAK,CAACG,QAAQ,cAAAmD,gBAAA,uBAAdA,gBAAA,CAAgBjD,MAAM;IAC9BM,IAAI,GAAA4C,gBAAA,GAAEvD,KAAK,CAACG,QAAQ,cAAAoD,gBAAA,uBAAdA,gBAAA,CAAgB5C,IAAI;IAC1BiD,aAAa,EAAE5D;EACnB,CAAC;AACL,CAAC;;AAED;AACA,OAAO,MAAM6D,OAAO,GAAGA,CAAA,KAAM;EACzB,OAAO;IACHpB,UAAU,EAAEA,UAAU,CAAC,CAAC;IACxB1D,QAAQ,EAAE4D,iBAAiB,CAAC,CAAC;IAC7BG;EACJ,CAAC;AACL,CAAC;AAED,eAAe5E,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}