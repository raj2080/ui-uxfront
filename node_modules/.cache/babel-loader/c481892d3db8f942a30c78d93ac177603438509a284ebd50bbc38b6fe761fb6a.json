{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nlet inactivityTimeout;\nconst resetInactivityTimeout = redirectToLogin => {\n  clearTimeout(inactivityTimeout);\n  inactivityTimeout = setTimeout(() => {\n    redirectToLogin();\n  }, 5 * 60 * 1000); // 5 minutes\n};\nconst setupInactivityHandler = redirectToLogin => {\n  window.onload = () => resetInactivityTimeout(redirectToLogin);\n  document.onmousemove = () => resetInactivityTimeout(redirectToLogin);\n  document.onkeypress = () => resetInactivityTimeout(redirectToLogin);\n};\nconst InactivityHandler = ({\n  children\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const redirectToLogin = () => {\n    // Clear user session data\n    localStorage.removeItem('token');\n    localStorage.removeItem('userId');\n    localStorage.removeItem('user');\n    localStorage.removeItem('lastActive');\n    localStorage.removeItem('redirectUrl');\n    navigate(\"/login\");\n  };\n  useEffect(() => {\n    setupInactivityHandler(redirectToLogin);\n  }, [navigate]);\n  return children;\n};\n_s(InactivityHandler, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = InactivityHandler;\nexport default InactivityHandler;\nvar _c;\n$RefreshReg$(_c, \"InactivityHandler\");","map":{"version":3,"names":["useEffect","useNavigate","inactivityTimeout","resetInactivityTimeout","redirectToLogin","clearTimeout","setTimeout","setupInactivityHandler","window","onload","document","onmousemove","onkeypress","InactivityHandler","children","_s","navigate","localStorage","removeItem","_c","$RefreshReg$"],"sources":["C:/uiux development/frontend/confessapp/src/utils/inactivityHandler.jsx"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nlet inactivityTimeout;\r\n\r\nconst resetInactivityTimeout = (redirectToLogin) => {\r\n    clearTimeout(inactivityTimeout);\r\n    inactivityTimeout = setTimeout(() => {\r\n        redirectToLogin();\r\n    }, 5 * 60 * 1000); // 5 minutes\r\n};\r\n\r\nconst setupInactivityHandler = (redirectToLogin) => {\r\n    window.onload = () => resetInactivityTimeout(redirectToLogin);\r\n    document.onmousemove = () => resetInactivityTimeout(redirectToLogin);\r\n    document.onkeypress = () => resetInactivityTimeout(redirectToLogin);\r\n};\r\n\r\nconst InactivityHandler = ({ children }) => {\r\n    const navigate = useNavigate();\r\n\r\n    const redirectToLogin = () => {\r\n        // Clear user session data\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('userId');\r\n        localStorage.removeItem('user');\r\n        localStorage.removeItem('lastActive');\r\n        localStorage.removeItem('redirectUrl');\r\n        navigate(\"/login\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        setupInactivityHandler(redirectToLogin);\r\n    }, [navigate]);\r\n\r\n    return children;\r\n};\r\n\r\nexport default InactivityHandler;"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,IAAIC,iBAAiB;AAErB,MAAMC,sBAAsB,GAAIC,eAAe,IAAK;EAChDC,YAAY,CAACH,iBAAiB,CAAC;EAC/BA,iBAAiB,GAAGI,UAAU,CAAC,MAAM;IACjCF,eAAe,CAAC,CAAC;EACrB,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;AACvB,CAAC;AAED,MAAMG,sBAAsB,GAAIH,eAAe,IAAK;EAChDI,MAAM,CAACC,MAAM,GAAG,MAAMN,sBAAsB,CAACC,eAAe,CAAC;EAC7DM,QAAQ,CAACC,WAAW,GAAG,MAAMR,sBAAsB,CAACC,eAAe,CAAC;EACpEM,QAAQ,CAACE,UAAU,GAAG,MAAMT,sBAAsB,CAACC,eAAe,CAAC;AACvE,CAAC;AAED,MAAMS,iBAAiB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACxC,MAAMC,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAE9B,MAAMG,eAAe,GAAGA,CAAA,KAAM;IAC1B;IACAa,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCD,YAAY,CAACC,UAAU,CAAC,QAAQ,CAAC;IACjCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IAC/BD,YAAY,CAACC,UAAU,CAAC,YAAY,CAAC;IACrCD,YAAY,CAACC,UAAU,CAAC,aAAa,CAAC;IACtCF,QAAQ,CAAC,QAAQ,CAAC;EACtB,CAAC;EAEDhB,SAAS,CAAC,MAAM;IACZO,sBAAsB,CAACH,eAAe,CAAC;EAC3C,CAAC,EAAE,CAACY,QAAQ,CAAC,CAAC;EAEd,OAAOF,QAAQ;AACnB,CAAC;AAACC,EAAA,CAlBIF,iBAAiB;EAAA,QACFZ,WAAW;AAAA;AAAAkB,EAAA,GAD1BN,iBAAiB;AAoBvB,eAAeA,iBAAiB;AAAC,IAAAM,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}